# EDA

## Univariate Analysis

Examine each variable individually to understand its distribution, central tendency, and spread.

```{python}
# Code visibility controlled by format settings in report.qmd
import pandas as pd
import numpy as np
import warnings
import matplotlib.pyplot as plt
import seaborn as sns
import plotly as py
import plotly.graph_objs as go
import statistics
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import plotly.express as px

url = "https://data.nsw.gov.au/data/dataset/4ff1a0de-9bff-4b45-9f93-5a9bf44df257/resource/5b843384-5aea-4bc4-9935-0dd91ea2559d/download/2020_rws-updated.csv"
df = pd.read_csv(url, encoding="ISO-8859-1")
# delete all the duplicated rows
df[df.duplicated(keep=False)]

# delete all the columns with think are not significant to lower the size of the dataset for better readibility
cols_to_drop = [0,4, 6, 11, 14, 15, 16, 18, 22, 23, 24, 26, 28, 29, 30, 31] + list(range(41, 73))
df = df.drop(df.columns[cols_to_drop], axis=1)

# Rename column
rename_map = {
    "Response ID": "Response_ID",
    "What year were you born?": "Age",
    "What is your gender?": "Gender",
    "Which of the following best describes your industry?": "Industry",
    "Which of the following best describes your current occupation?": "Job_type",
    "How many people are currently employed by your organisation?": "Organisation_Size",
    "Do you manage people as part of your current occupation?": "Managing_position",
    "Which of the following best describes your household?": "Household",
    "How long have you been in your current job?": "Years_in_job",
    "Thinking about your current job, how much of your time did you spend remote working last year?": "Remote_pct_last_year",
    "Thinking about remote working last year, how strongly do you agree or disagree with the following statements? - My organisation encouraged people to work remotely": "Org_encouraged_remote_last_year",
    "Thinking about remote working last year, how strongly do you agree or disagree with the following statements? - I could easily collaborate with colleagues when working remotely": "Collaboration_remote_last_year",
    "How much of your time would you have preferred to work remotely last year?": "Preferred_remote_last_year",
    "Thinking about your current job, how much of your time did you spend remote working in the last 3 months?": "Remote_pct_last_3_months",
    "Thinking about remote working in the last 3 months, how strongly do you agree or disagree with the following statements? - My organisation encouraged people to work remotely": "Org_encouraged_remote_3_months",
    "Thinking about remote working in the last 3 months, how strongly do you agree or disagree with the following statements? - I could easily collaborate with colleagues when working remotely": "Collaboration_remote_3_months",
    "How much of your time would you have preferred to work remotely in the last 3 months?": "Preferred_remote_3_months",
    "This question is about your productivity. Productivity means what you produce for each hour that you work. It includes the amount of work you achieve each hour, and the quality of your work each hour.  \nPlease compare your productivity when you work remotely to when you work at your employer\x92s workplace.  \nRoughly how productive are you, each hour, when you work remotely?": "Productivity_remote_vs_workplace",
    "On a day when you attend your employer's workplace, how many hours would you spend doing the following activities? - Preparing for work and commuting": "Commute_hours_workplace",
    "On a day when you attend your employer's workplace, how many hours would you spend doing the following activities? - Working": "Working_hours_workplace",
    "On a day when you attend your employer's workplace, how many hours would you spend doing the following activities? - Personal and family time": "Personal_family_hours_workplace",
    "On a day when you attend your employer's workplace, how many hours would you spend doing the following activities? - Caring and domestic responsibilities": "Domestic_hours_workplace",
    "On a day when you do remote work, how many hours would you spend doing the following activities? - Preparing for work and commuting": "Commute_hours_remote",
    "On a day when you do remote work, how many hours would you spend doing the following activities? - Working": "Working_hours_remote",
    "On a day when you do remote work, how many hours would you spend doing the following activities? - Personal and family time": "Personal_family_hours_remote",
    "On a day when you do remote work, how many hours would you spend doing the following activities? - Caring and domestic responsibilities": "Domestic_hours_remote"}
df.rename(columns=rename_map, inplace=True)

# 1. Organisation Size
df["Organisation_Size"] = df["Organisation_Size"].replace({
    "I am the only employee": "Solo business",
    "Between 1 and 4": "Micro enterprise",
    "Between 5 and 19": "Small enterprise",
    "Between 20 and 199": "Medium enterprise",
    "More than 200": "Large / Corporate enterprise"}).fillna("Other / Unspecified")

# 2. Gender & Managing Position
df = df[df["Gender"] != "Rather not say"]
df["Gender"] = df["Gender"].replace({"Male": 0, "Female": 1}).astype("category")
df["Managing_position"] = df["Managing_position"].replace({"No": 0, "Yes": 1}).astype("category")
df = df.dropna(subset=["Managing_position"])

# 3. Age (convert birth year to age in 2020)
df["Age"] = 2020 - df["Age"]

# 4. Years in job
df["Years_in_job"] = df["Years_in_job"].replace({
    "More than 5 years": "5+",
    "Between 1 and 5 years": "5-",
    "Between 6 and 12 months": "1-"})

# 5. Likert scale mapping
likert_mapping = {
    "Strongly disagree": 1,
    "Somewhat disagree": 2,
    "Neither agree nor disagree": 3,
    "Somewhat agree": 4,
    "Strongly agree": 5}
likert_cols = [
    "Org_encouraged_remote_last_year",
    "Collaboration_remote_last_year",
    "Org_encouraged_remote_3_months",
    "Collaboration_remote_3_months"]
df[likert_cols] = df[likert_cols].replace(likert_mapping).fillna(3)

# 6. Remote percentages mapping
remote_mapping = {
    "Rarely or never": 0,
    "Less than 10% of my time": 5,
    "10%": 10,
    "20%": 20,
    "30%": 30,
    "40%": 40,
    "50% - About half of my time": 50,
    "50% - I spent about half of my time remote working": 50,
    "60%": 60,
    "70%": 70,
    "80%": 80,
    "90%": 90,
    "100% - All of my time": 100,
    "100% - I spent all of my time remote working": 100,
    "I would not have preferred to work remotely": 0}
percent_cols = [
    "Preferred_remote_last_year",
    "Remote_pct_last_year",
    "Remote_pct_last_3_months",
    "Preferred_remote_3_months"]
for col in percent_cols:
    df[col] = df[col].astype(str).str.replace("\xa0", "", regex=True).str.strip().replace(remote_mapping)
    df[col] = pd.to_numeric(df[col], errors="coerce") / 100  # Convert to proportion

# 7. Productivity cleaning
def parse_productivity(val):
    if pd.isna(val):
        return None
    val = str(val).replace("\x92", "'")  # Fix apostrophe
    if "more productive" in val:
        return int(val.split("%")[0].replace("I'm ", "").strip())
    elif "less productive" in val:
        return -int(val.split("%")[0].replace("I'm ", "").strip())
    elif "same" in val:
        return 0
    return None
df["Productivity_remote_vs_workplace"] = df["Productivity_remote_vs_workplace"].apply(parse_productivity)
```

From this code we got the full results of all our variables in terms of distribution sorted by occurrence. The relevant information we gathered from these are the followings:

```{python}
age_counts = df["Age"].value_counts().sort_index()
fig = px.bar(
    x=age_counts.index,
    y=age_counts.values,
    labels={
        "x": "Age",
        "y": "Nombre d'individus"
    },
    title="Distribution de l'âge"
)
fig.show()
```

-   Age: we have some outliers for the age variable with 2 people 120 years old that needs to be treated

```{python}
print("\n--- Gender ---")
print(df["Gender"].value_counts(dropna=False))
```

-   Gender: good balance (604 / (604+766) = 44% of women)

```{python}
print("\n--- Years_in_job ---")
print(df["Years_in_job"].value_counts(dropna=False))
```

-   Years in job: sample is quite experienced with only 11% with less than 1 year of experience.

```{python}
print("\n--- Productivity_remote_vs_workplace ---")
print(df["Productivity_remote_vs_workplace"].value_counts(dropna=False))
```

-   Productivity remote vs workplace: we can see that for most of them productivity is either equivalent, or they even gained in productivity (46% gained between 20 to 50% of productivity).

## Distribution Plot

Concretely, if we look at the distribution of the change in productivity with this code :

```{python}
fig = px.histogram(df, x='Productivity_remote_vs_workplace', nbins=30, title="Histogramme de la productivité")
fig.show()

print("Skewness change in productivity:")
print(df['Productivity_remote_vs_workplace'].skew())
```

The histogram we obtain from the code shows an important part of 0 meaning for a lot of people working remotely doesn’t affect their productivity. Looking at the skewness (-0.13), we can deduce that data is significantly more on the right of the graph, meaning that people are more productive being at home for work.

## Bivariate Analysis

```{python}
fig = px.violin(
    df,
    x="Organisation_Size",
    y="Productivity_remote_vs_workplace",
    box=True,        # affiche aussi le boxplot à l'intérieur
    points="all",    # affiche les points individuels
    title="Productivity Change by Organisation Size"
)

fig.update_xaxes(title="Organisation Size")
fig.update_yaxes(title="Productivity Change (%)")
fig.show()
```

In this Violin plot, we can understand that the change in productivity is not really influenced by the size of the company. Nevertheless, we can observe for small enterprises that a negative change in productivity is even rarer. We can guess that people in small businesses don’t depend too much on working with peers and with teams, so going to the workplace is less necessary than in big companies and communications facilitated.

```{python}
male_df = df[df['Gender'] == 0]
female_df = df[df['Gender'] == 1]

male_counts = male_df['Managing_position'].value_counts()
female_counts = female_df['Managing_position'].value_counts()

labels = ['Managing', 'Not Managing']

male_values = [male_counts.get(1, 0), male_counts.get(0, 0)]
female_values = [female_counts.get(1, 0), female_counts.get(0, 0)]
fig = make_subplots(
    rows=1, cols=2,
    specs=[[{'type': 'domain'}, {'type': 'domain'}]],
    subplot_titles=['Managing Position (Male)', 'Managing Position (Female)'])

# Pie chart Men
fig.add_trace(
    go.Pie(labels=labels, values=male_values, hole=0.4),
    row=1, col=1)

# Pie chart Women
fig.add_trace(
    go.Pie(labels=labels, values=female_values, hole=0.4),
    row=1, col=2)

fig.update_layout(
    title="Managing Position by Gender",
    height=500,
    width=900)

fig.show()
```

We wanted to look at the distribution of the managing positions based on the gender and we could see that almost 60% of men are managers compared to only 40% for women so this is factored to take into consideration when giving conclusions.

## Correlation/Multivariate Analysis

```{python}
labels = ['Working', 'Personal & Family', 'Domestic', 'Commute']

remote_hours = [
    df['Working_hours_remote'].mean(),
    df['Personal_family_hours_remote'].mean(),
    df['Domestic_hours_remote'].mean(),
    df['Commute_hours_remote'].mean()
]

workplace_hours = [
    df['Working_hours_workplace'].mean(),
    df['Personal_family_hours_workplace'].mean(),
    df['Domestic_hours_workplace'].mean(),
    df['Commute_hours_workplace'].mean()
]

# Pie Remote
fig_remote = go.Figure(
    data=[go.Pie(labels=labels, values=remote_hours, hole=0.4)]
)
fig_remote.update_layout(title="Distribution of Remote Hours")
fig_remote.show()

# Pie Workplace
fig_workplace = go.Figure(
    data=[go.Pie(labels=labels, values=workplace_hours, hole=0.4)]
)
fig_workplace.update_layout(title="Distribution of Workplace Hours")
fig_workplace.show()
```

can see on those 2 pie charts representing the distribution of the day based on the time in hours working, commuting, for personnal and family, and domestic. We can see that the time of work is sensibly the same for remote and workplace (50% compared to 48.8%). What is important here is to see that time to commute is divided by 3 when remote working so it gives more time for domesting and personnal/family time going from 39.6% of your day to 46%. This difference shows a better work/life balance for employees when remotely working. This could affect mental health positively.

## Key Findings

**Univariate Analysis** - The sample is professionally experienced: only 11% have experience of less than 1 year. - There is a correct balance between genders: 44% of the sample is composed by women. - Productivity is either not affected or positively impacted by remote work: 46% improved their productivity through remote work.

**Bivariate Analysis** Working on place or remotely does not affect small businesses productivity, from which we can conclude small-structure workers does not depend too much on working with peers and teams, and going physically to workplace is less necessary than in big companies and communications facilitated.

Manager jobs are composed of men at a 60% rate whereas only 40% are women, a factor we must take into consideration when giving conclusions.

**Correlation/Multivariate Analysis** According to the distribution of the day based on the time in hours working, commuting, for personal and family, and domestic, we can observe that the time of work is sensibly the same remotely and physically at work (50% compared to 48.8%). Furthermore, time to commute is divided by 3 when working remotely, which gives more time for domestic activities and personal/family time going from 39.6% of daytime to 46%. This difference shows a better work/life balance for employees through remote work, an element that could positively affect mental health.\
There is a positive correlation of 0.14 between productivity and working remotely. However, this correlation coefficient remains positively low.

## Findings and Discussion

**Perceived productivity (Productivity_remote_vs_workplace)**

The distribution remains wide but not excessively dispersed. Both positive and negative self-reported productivity changes appear, with no clear dominant direction. 

**Remote work share (Remote_pct\_\*)**

Clear multimodal distribution:
- a large cluster at 0 (never remote),
- a midpoint cluster around 0.5 (hybrid),
- and a peak at 1.0 (fully remote).

The regression plot shows a weak positive trend between remote work percentage and perceived productivity.

Remote_pct\_*: meaning all the columns that start with Remote_pct\_ – in our context, remote_pct_last_year and remote_pct_last_3_months variables. 
 
**Hours commute / work / personal / domestic**
 
These variables exhibit high variability, and under the classical IQR test, some show large numbers of outliers (Working_hours_workplace: 271, Commute_hours_remote: 142).
 
Commute_hours_remote is essentially zero for most respondents, whereas workplace commute shows very high values for a subgroup.

**Satisfaction / Preferences (Preferred_remote\_*)** 

A significant proportion of respondents indicate a preference for higher levels of remote work — suggesting overall satisfaction with remote arrangements. 

**Demographics**

Age is concentrated within typical working-age ranges but includes two implausible values around 120, considered invalid extremes under both IQR methods. Gender distribution shows moderate imbalance. 

**Outliers & cleaning (3×IQR method)** 

Outlier counts highlight substantial structural variability in the dataset. Using the classical 1.5×IQR rule would remove more than 40% of the sample, which risks discarding legitimate behavioral diversity. Using the 3×IQR rule instead focuses only on filtering clear data errors or implausible extreme values (ages \>100, commute hours \>10, negative preferred remote percentages). 
With this more cautious threshold and a tolerance of zero outliers per row, the dataset is reduced from 1370 to 1196 rows, meaning only obviously invalid extreme records were removed. This approach preserves representativity while still improving data quality.

## Interpretation (per finding) 

Perceived productivity Histograms and boxplots show the distribution of Productivity_remote_vs_workplace is still wide after cleaning.

The regression line suggests a slight positive correlation between remote work percentage and productivity. The mean appears small relative to the variance, indicating high heterogeneity in productivity experiences. Some individuals report substantial productivity gains, others substantial losses. 

Through these observations, we directly answer this question: “How does remote work influence employees’ overall productivity?”, and the answer is: effects differ strongly across individuals; no universal impact exists. It is consistent with Bloom et al. (2015) and COVID-era studies showing mixed or context-dependent productivity outcomes. 

The limitations are composed of biases and complexity-lacking interpretation such as Self-reported measure bias and univariate-only interpretation. 

Thus, organisations should adopt flexible and individualized policies, and further multivariate analysis should identify moderators (job type, household structure, management role…).

**Job satisfaction / preferences**

Preferred_remote\_\* shows many respondents preferring more remote work. Preference likely reflects higher satisfaction with remote work conditions relative to on-site conditions.

It directly informs remote work increases job satisfaction for many workers and addresses: “Has job satisfaction increased or decreased due to remote working?”: univariate evidence points to increased satisfaction for many workers. 
Preference does not equal measured job satisfaction; there is a potential selection bias. Hybrid working models and flexible remote-work options should be explored.

**Social connection / collaboration**
Likert variables for collaboration (Collaboration_remote\_\*) are centered around neutral values (Likert value: 3). At an aggregate level, respondents do not report a clear decline or improvement in collaboration while working remotely.

It addresses the question: "How does remote working affect employees’ ability to maintain social connections and avoid isolation?”. Digital collaboration tools may offset loss of informal interactions and individual variability likely remains. Likert responses are proxies; no direct psychological isolation is measured.

However, a preference-based bias might be taken into consideration: as remote work seems more desirable for most respondents, they might answer in a way that avoids remote work discreditation. Organizations should focus interventions on subgroups reporting lower collaboration.

Structural factors (commute and personal time) Remote commute is almost zero; remote work yields increase in personal, family, and domestic hours. Savings in commute time and reallocation toward personal activities are plausible drivers of increased satisfaction with remote work. We can extrapolate this job and free-time balance to an enhanced mental health and less stressed psychology.

To “Which factors contribute most to remote-work satisfaction?”, we can thus conclude that Time savings and increased autonomy are strong candidates, which aligns with research showing commute reduction increases well-being and perceived control over time. However, the trends are univariate only; further multivariate modeling might be needed. Policies should preserve gains in personal time and support work-life balance.

## Overall answers to research questions

**Productivity** 

Remote work has a mixed and highly heterogeneous effect on productivity; the average effect is not clearly positive or negative.

**Social connection / isolation**

Aggregate responses are neutral and no evidence of widespread isolation or deterioration of collaboration is detected. 

**Job satisfaction**

Preference patterns imply that for most workers, job satisfaction has increased under remote arrangements. 

**Drivers of satisfaction** 

The strongest univariate candidates are:
- reduced commute,
- increased personal/family time,
- greater schedule flexibility.
