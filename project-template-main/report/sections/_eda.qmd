# EDA

## Univariate Analysis

Examine each variable individually to understand its distribution, central tendency, and spread.

```{python}
#| label: dist
#| fig-cap: Distribution
# Code visibility controlled by format settings in report.qmd

for col in df.columns: 
print(f"\n--- {col} ---") 
print(df[col].value_counts(dropna=False)) 
```

From this code we got the full results of all our variables in terms of distribution sorted by occurrence. The relevant information we gathered from these are the followings:

-   Age: we have some outliers for the age variable with 2 people 120 years old that needs to be treated

-   Gender: good balance (604 / (604+766) = 44% of women)

## Distribution Plot

```{python}
#| label: fig-performance-dist
#| fig-cap: "Distribution of performance scores showing approximately normal distribution"
# Code visibility controlled by format settings in report.qmd

import matplotlib.pyplot as plt
import seaborn as sns

plt.tight_layout()
plt.show()
```

## Summary Statistics

```{python}
#| label: tbl-summary-stats
#| tbl-cap: "Summary statistics for performance scores"
# Code visibility controlled by format settings in report.qmd


```

## Box Plot

```{python}
#| label: fig-performance-box
#| fig-cap: "Box plot showing the five-number summary and outliers"
# Code visibility controlled by format settings in report.qmd


```

## Bivariate Analysis

Explore relationships between two variables.

Our univariate analysis in @fig-performance-dist revealed that performance scores follow an approximately normal distribution with a mean of 0.90. The box plot (@fig-performance-box) confirmed this finding and helped identify a few outliers at the lower end of the distribution.

::: callout-tip
## How to Reference Figures

Use `@fig-label` syntax to reference figures in your text. Quarto automatically numbers them and creates clickable links.

**Examples with figures in this template:**

-   `@fig-performance-dist` → See @fig-performance-dist for details
-   `@fig-correlation-matrix` → As shown in @fig-correlation-matrix
-   `@tbl-anova-test` → The ANOVA results in @tbl-anova-test

**Why reference figures?**

1.  Automatic numbering (updates if you reorder)
2.  Clickable links in HTML output
3.  Professional academic writing standard
4.  Helps readers find the relevant visualization

**Example usage in text:**

"The distribution shown in @fig-performance-dist indicates..."

"As seen in @fig-correlation-matrix, there is a strong positive correlation..."
:::

Now let's examine how performance varies across different instructors.

::: panel-tabset
## Grouped Comparison

```{python}
#| label: fig-performance-by-instructor
#| fig-cap: "Performance scores grouped by instructor showing variation across instructors"
# Code visibility controlled by format settings in report.qmd

fig, ax = plt.subplots(figsize=(8, 5))

```

## Statistical Test

```{python}
#| label: tbl-anova-test
#| tbl-cap: "ANOVA test results for performance differences across instructors"
# Code visibility controlled by format settings in report.qmd

```

## Scatter Plot

```{python}
#| label: fig-scatter-experience-performance
#| fig-cap: "Scatter plot showing positive relationship between experience and performance"
# Code visibility controlled by format settings in report.qmd

```
:::

## Key Findings

1.  **Distribution patterns**: The performance scores shown in @fig-performance-dist follow an approximately normal distribution with a mean of `{python} f'{dummy_performance["performance"].mean():.2f}'` and standard deviation of `{python} f'{dummy_performance["performance"].std():.2f}'`.

    **Interpretation**: This normal distribution suggests that most students perform around the average, with fewer students at the extremes (very high or very low scores). The relatively small standard deviation indicates consistent performance across the group. This pattern is typical in educational settings and suggests that the assessment was well-calibrated meaning not too easy (which would cause ceiling effects) nor too difficult (which would cause floor effects). The normality assumption also validates the use of parametric statistical tests for subsequent analyses.

2.  **Outliers and data quality**: The box plot (@fig-performance-box) reveals minimal outliers, with only a few observations falling below the lower whisker.

    **Interpretation**: The scarcity of outliers suggests good data quality and consistent measurement. The few low-performing outliers warrant further investigation - they could represent students who faced unusual circumstances or measurement errors. However, their small number means they are unlikely to significantly impact our overall conclusions. This finding gives us confidence in proceeding with the full dataset without extensive outlier removal.

3.  **Group differences**: @fig-performance-by-instructor demonstrates noticeable variation in performance across different instructors, with some instructors showing higher median scores than others. The ANOVA test (@tbl-anova-test) confirms these differences are `{python} 'statistically significant (p < 0.05)' if p_value < 0.05 else 'not statistically significant (p ≥ 0.05)'`.

    **Interpretation**: `{python} 'The significant differences across instructors raise important questions about teaching effectiveness, grading consistency, or student assignment to sections. This finding suggests that "instructor" should be included as a control variable in any regression models predicting performance.' if p_value < 0.05 else 'The lack of significant differences suggests that instructor assignment does not substantially impact performance, or that grading standards are well-harmonized across sections.'` It also indicates that comparing students across different sections requires careful consideration. From a policy perspective, this might warrant investigating whether certain teaching methods are more effective or whether grading standards need to be harmonized across sections.

4.  **Relationships**: The correlation matrix (@fig-correlation-matrix) reveals several interesting patterns:

    -   Strong positive correlation (r = `{python} f'{corr_matrix.loc["Experience", "Salary"]:.2f}'`) between Experience and Salary
    -   Moderate positive correlation (r = `{python} f'{corr_matrix.loc["Experience", "Performance"]:.2f}'`) between Experience and Performance
    -   Weak correlation (r = `{python} f'{corr_matrix.loc["Age", "Performance"]:.2f}'`) between Age and Performance

    **Interpretation**: The Experience-Salary correlation aligns with economic theory that experience is rewarded in labor markets. The Experience-Performance correlation suggests that experience contributes to better performance, though other factors clearly matter as well. Interestingly, Age shows minimal correlation with Performance, suggesting that chronological age alone doesn't predict success - what matters is relevant experience. These patterns will guide our variable selection for predictive modeling, favoring Experience over Age as a key predictor.

5.  **Experience-Performance relationship**: @fig-scatter-experience-performance clearly shows a positive linear relationship, with more experienced individuals tending to have higher performance scores. The correlation coefficient is `{python} f'{corr:.2f}'`.

    **Interpretation**: The linear relationship visible in the scatter plot confirms that experience has a consistent, positive effect on performance. However, the substantial scatter around the regression line indicates that experience alone doesn't determine performance - individual differences and other factors play important roles. This suggests that while experience is valuable, organizations shouldn't rely solely on it when making hiring or promotion decisions.